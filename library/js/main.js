jQuery(document).ready(function(e){function i(){e(".cd-nav-trigger").removeClass("nav-is-visible"),e(".cd-main-header").removeClass("nav-is-visible"),e(".cd-primary-nav").removeClass("nav-is-visible"),e(".has-children ul").addClass("is-hidden"),e(".has-children a").removeClass("selected"),e(".moves-out").removeClass("moves-out"),e(".cd-main-content").removeClass("nav-is-visible").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){e("body").removeClass("overflow-hidden")})}function n(i){"close"==i?(e(".cd-search").removeClass("is-visible"),e(".cd-search-trigger").removeClass("search-is-visible"),e(".cd-overlay").removeClass("search-is-visible")):(e(".cd-search").toggleClass("is-visible"),e(".cd-search-trigger").toggleClass("search-is-visible"),e(".cd-overlay").toggleClass("search-is-visible"),e(window).width()>t&&e(".cd-search").hasClass("is-visible")&&e(".cd-search").find('input[type="search"]').focus(),e(".cd-search").hasClass("is-visible")?e(".cd-overlay").addClass("is-visible"):e(".cd-overlay").removeClass("is-visible"))}function a(){var e=window,i="inner";return"innerWidth"in window||(i="client",e=document.documentElement||document.body),e[i+"Width"]>=t?!0:!1}function s(){var i=e(".cd-nav"),n=a();n?(i.detach(),i.insertBefore(".cd-header-buttons")):(i.detach(),i.insertAfter(".cd-main-content"))}var t=1170;s(),e(window).on("resize",function(){window.requestAnimationFrame?window.requestAnimationFrame(s):setTimeout(s,300)}),e(".cd-nav-trigger").on("click",function(a){a.preventDefault(),e(".cd-main-content").hasClass("nav-is-visible")?(i(),e(".cd-overlay").removeClass("is-visible")):(e(this).addClass("nav-is-visible"),e(".cd-primary-nav").addClass("nav-is-visible"),e(".cd-main-header").addClass("nav-is-visible"),e(".cd-main-content").addClass("nav-is-visible").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){e("body").addClass("overflow-hidden")}),n("close"),e(".cd-overlay").addClass("is-visible"))}),e(".cd-search-trigger").on("click",function(e){e.preventDefault(),n(),i()}),e(".cd-overlay").on("swiperight",function(){e(".cd-primary-nav").hasClass("nav-is-visible")&&(i(),e(".cd-overlay").removeClass("is-visible"))}),e(".nav-on-left .cd-overlay").on("swipeleft",function(){e(".cd-primary-nav").hasClass("nav-is-visible")&&(i(),e(".cd-overlay").removeClass("is-visible"))}),e(".cd-overlay").on("click",function(){i(),n("close"),e(".cd-overlay").removeClass("is-visible")}),e(".cd-primary-nav").children(".has-children").children("a").on("click",function(e){e.preventDefault()}),e(".has-children").children("a").on("click",function(i){a()||i.preventDefault();var s=e(this);s.next("ul").hasClass("is-hidden")?(s.addClass("selected").next("ul").removeClass("is-hidden").end().parent(".has-children").parent("ul").addClass("moves-out"),s.parent(".has-children").siblings(".has-children").children("ul").addClass("is-hidden").end().children("a").removeClass("selected"),e(".cd-overlay").addClass("is-visible")):(s.removeClass("selected").next("ul").addClass("is-hidden").end().parent(".has-children").parent("ul").removeClass("moves-out"),e(".cd-overlay").removeClass("is-visible")),n("close")}),e(".go-back").on("click",function(){e(this).parent("ul").addClass("is-hidden").parent(".has-children").parent("ul").removeClass("moves-out")})}),$(window).load(function(){$(".flexslider").flexslider({animation:"slide",slideshow:"false"}),$(".sales-slider").flexslider({animation:"slide"})}),!function(e,i){"function"==typeof define&&define.amd?define(["jquery"],function(n){return i(e,n)}):"object"==typeof exports?i(e,require("jquery")):i(e,e.jQuery||e.Zepto)}(this,function(e,i){"use strict";function n(e){if($&&"none"===e.css("animation-name")&&"none"===e.css("-webkit-animation-name")&&"none"===e.css("-moz-animation-name")&&"none"===e.css("-o-animation-name")&&"none"===e.css("-ms-animation-name"))return 0;var i,n,a,s,t=e.css("animation-duration")||e.css("-webkit-animation-duration")||e.css("-moz-animation-duration")||e.css("-o-animation-duration")||e.css("-ms-animation-duration")||"0s",o=e.css("animation-delay")||e.css("-webkit-animation-delay")||e.css("-moz-animation-delay")||e.css("-o-animation-delay")||e.css("-ms-animation-delay")||"0s",r=e.css("animation-iteration-count")||e.css("-webkit-animation-iteration-count")||e.css("-moz-animation-iteration-count")||e.css("-o-animation-iteration-count")||e.css("-ms-animation-iteration-count")||"1";for(t=t.split(", "),o=o.split(", "),r=r.split(", "),s=0,n=t.length,i=Number.NEGATIVE_INFINITY;n>s;s++)a=parseFloat(t[s])*parseInt(r[s],10)+parseFloat(o[s]),a>i&&(i=a);return a}function a(){if(i(document.body).height()<=i(window).height())return 0;var e,n,a=document.createElement("div"),s=document.createElement("div");return a.style.visibility="hidden",a.style.width="100px",document.body.appendChild(a),e=a.offsetWidth,a.style.overflow="scroll",s.style.width="100%",a.appendChild(s),n=s.offsetWidth,a.parentNode.removeChild(a),e-n}function s(){if(!O){var e,n,s=i("html"),t=c("is-locked");s.hasClass(t)||(n=i(document.body),e=parseInt(n.css("padding-right"),10)+a(),n.css("padding-right",e+"px"),s.addClass(t))}}function t(){if(!O){var e,n,s=i("html"),t=c("is-locked");s.hasClass(t)&&(n=i(document.body),e=parseInt(n.css("padding-right"),10)-a(),n.css("padding-right",e+"px"),s.removeClass(t))}}function o(e,i,n,a){var s=c("is",i),t=[c("is",w.CLOSING),c("is",w.OPENING),c("is",w.CLOSED),c("is",w.OPENED)].join(" ");e.$bg.removeClass(t).addClass(s),e.$overlay.removeClass(t).addClass(s),e.$wrapper.removeClass(t).addClass(s),e.$modal.removeClass(t).addClass(s),e.state=i,!n&&e.$modal.trigger({type:i,reason:a},[{reason:a}])}function r(e,a,s){var t=0,o=function(e){e.target===this&&t++},r=function(e){e.target===this&&0===--t&&(i.each(["$bg","$overlay","$wrapper","$modal"],function(e,i){s[i].off(C+" "+g)}),a())};i.each(["$bg","$overlay","$wrapper","$modal"],function(e,i){s[i].on(C,o).on(g,r)}),e(),0===n(s.$bg)&&0===n(s.$overlay)&&0===n(s.$wrapper)&&0===n(s.$modal)&&(i.each(["$bg","$overlay","$wrapper","$modal"],function(e,i){s[i].off(C+" "+g)}),a())}function d(e){e.state!==w.CLOSED&&(i.each(["$bg","$overlay","$wrapper","$modal"],function(i,n){e[n].off(C+" "+g)}),e.$bg.removeClass(e.settings.modifier),e.$overlay.removeClass(e.settings.modifier).hide(),e.$wrapper.hide(),t(),o(e,w.CLOSED,!0))}function l(e){var i,n,a,s,t={};for(e=e.replace(/\s*:\s*/g,":").replace(/\s*,\s*/g,","),i=e.split(","),s=0,n=i.length;n>s;s++)i[s]=i[s].split(":"),a=i[s][1],("string"==typeof a||a instanceof String)&&(a="true"===a||("false"===a?!1:a)),("string"==typeof a||a instanceof String)&&(a=isNaN(a)?a:+a),t[i[s][0]]=a;return t}function c(){for(var e=p,i=0;i<arguments.length;++i)e+="-"+arguments[i];return e}function m(){var e,n,a=location.hash.replace("#","");if(a){try{n=i("[data-"+f+'-id="'+a+'"]')}catch(s){}n&&n.length&&(e=i[f].lookup[n.data(f)],e&&e.settings.hashTracking&&e.open())}else u&&u.state===w.OPENED&&u.settings.hashTracking&&u.close()}function v(e,n){var a=i(document.body),s=this;s.settings=i.extend({},y,n),s.index=i[f].lookup.push(s)-1,s.state=w.CLOSED,s.$overlay=i("."+c("overlay")),s.$overlay.length||(s.$overlay=i("<div>").addClass(c("overlay")+" "+c("is",w.CLOSED)).hide(),a.append(s.$overlay)),s.$bg=i("."+c("bg")).addClass(c("is",w.CLOSED)),s.$modal=e.addClass(p+" "+c("is-initialized")+" "+s.settings.modifier+" "+c("is",w.CLOSED)).attr("tabindex","-1"),s.$wrapper=i("<div>").addClass(c("wrapper")+" "+s.settings.modifier+" "+c("is",w.CLOSED)).hide().append(s.$modal),a.append(s.$wrapper),s.$wrapper.on("click."+p,"[data-"+f+'-action="close"]',function(e){e.preventDefault(),s.close()}),s.$wrapper.on("click."+p,"[data-"+f+'-action="cancel"]',function(e){e.preventDefault(),s.$modal.trigger(b.CANCELLATION),s.settings.closeOnCancel&&s.close(b.CANCELLATION)}),s.$wrapper.on("click."+p,"[data-"+f+'-action="confirm"]',function(e){e.preventDefault(),s.$modal.trigger(b.CONFIRMATION),s.settings.closeOnConfirm&&s.close(b.CONFIRMATION)}),s.$wrapper.on("click."+p,function(e){var n=i(e.target);n.hasClass(c("wrapper"))&&s.settings.closeOnOutsideClick&&s.close()})}var u,h,f="remodal",p=e.REMODAL_GLOBALS&&e.REMODAL_GLOBALS.NAMESPACE||f,C=i.map(["animationstart","webkitAnimationStart","MSAnimationStart","oAnimationStart"],function(e){return e+"."+p}).join(" "),g=i.map(["animationend","webkitAnimationEnd","MSAnimationEnd","oAnimationEnd"],function(e){return e+"."+p}).join(" "),y=i.extend({hashTracking:!0,closeOnConfirm:!0,closeOnCancel:!0,closeOnEscape:!0,closeOnOutsideClick:!0,modifier:""},e.REMODAL_GLOBALS&&e.REMODAL_GLOBALS.DEFAULTS),w={CLOSING:"closing",CLOSED:"closed",OPENING:"opening",OPENED:"opened"},b={CONFIRMATION:"confirmation",CANCELLATION:"cancellation"},$=function(){var e=document.createElement("div").style;return void 0!==e.animationName||void 0!==e.WebkitAnimationName||void 0!==e.MozAnimationName||void 0!==e.msAnimationName||void 0!==e.OAnimationName}(),O=/iPad|iPhone|iPod/.test(navigator.platform);v.prototype.open=function(){var e,n=this;n.state!==w.OPENING&&n.state!==w.CLOSING&&(e=n.$modal.attr("data-"+f+"-id"),e&&n.settings.hashTracking&&(h=i(window).scrollTop(),location.hash=e),u&&u!==n&&d(u),u=n,s(),n.$bg.addClass(n.settings.modifier),n.$overlay.addClass(n.settings.modifier).show(),n.$wrapper.show().scrollTop(0),n.$modal.focus(),r(function(){o(n,w.OPENING)},function(){o(n,w.OPENED)},n))},v.prototype.close=function(e){var n=this;n.state!==w.OPENING&&n.state!==w.CLOSING&&(n.settings.hashTracking&&n.$modal.attr("data-"+f+"-id")===location.hash.substr(1)&&(location.hash="",i(window).scrollTop(h)),r(function(){o(n,w.CLOSING,!1,e)},function(){n.$bg.removeClass(n.settings.modifier),n.$overlay.removeClass(n.settings.modifier).hide(),n.$wrapper.hide(),t(),o(n,w.CLOSED,!1,e)},n))},v.prototype.getState=function(){return this.state},v.prototype.destroy=function(){var e,n=i[f].lookup;d(this),this.$wrapper.remove(),delete n[this.index],e=i.grep(n,function(e){return!!e}).length,0===e&&(this.$overlay.remove(),this.$bg.removeClass(c("is",w.CLOSING)+" "+c("is",w.OPENING)+" "+c("is",w.CLOSED)+" "+c("is",w.OPENED)))},i[f]={lookup:[]},i.fn[f]=function(e){var n,a;return this.each(function(s,t){a=i(t),null==a.data(f)?(n=new v(a,e),a.data(f,n.index),n.settings.hashTracking&&a.attr("data-"+f+"-id")===location.hash.substr(1)&&n.open()):n=i[f].lookup[a.data(f)]}),n},i(document).ready(function(){i(document).on("click","[data-"+f+"-target]",function(e){e.preventDefault();var n=e.currentTarget,a=n.getAttribute("data-"+f+"-target"),s=i("[data-"+f+'-id="'+a+'"]');i[f].lookup[s.data(f)].open()}),i(document).find("."+p).each(function(e,n){var a=i(n),s=a.data(f+"-options");s?("string"==typeof s||s instanceof String)&&(s=l(s)):s={},a[f](s)}),i(document).on("keydown."+p,function(e){u&&u.settings.closeOnEscape&&u.state===w.OPENED&&27===e.keyCode&&u.close()}),i(window).on("hashchange."+p,m)})}),$(window).scroll(function(){var e=$(".cd-main-header"),i=$(window).scrollTop();i>=100?e.addClass("fixed-primary-menu"):e.removeClass("fixed-primary-menu")}),$(window).load(function(){var e=2,i=function(){e=$(window).width()>470?2:$(window).width()>320?2:1};i(),$(window).resize(i),$("#list").masonry({itemSelector:".item",columnWidth:function(i){return i/e}})});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsialF1ZXJ5IiwiZG9jdW1lbnQiLCJyZWFkeSIsIiQiLCJjbG9zZU5hdiIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJvbmUiLCJ0b2dnbGVTZWFyY2giLCJ0eXBlIiwidG9nZ2xlQ2xhc3MiLCJ3aW5kb3ciLCJ3aWR0aCIsIk1xTCIsImhhc0NsYXNzIiwiZmluZCIsImZvY3VzIiwiY2hlY2tXaW5kb3dXaWR0aCIsImUiLCJhIiwiZG9jdW1lbnRFbGVtZW50IiwiYm9keSIsIm1vdmVOYXZpZ2F0aW9uIiwibmF2aWdhdGlvbiIsImRlc2t0b3AiLCJkZXRhY2giLCJpbnNlcnRCZWZvcmUiLCJpbnNlcnRBZnRlciIsIm9uIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwic2V0VGltZW91dCIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJ0aGlzIiwiY2hpbGRyZW4iLCJzZWxlY3RlZCIsIm5leHQiLCJlbmQiLCJwYXJlbnQiLCJzaWJsaW5ncyIsImxvYWQiLCJmbGV4c2xpZGVyIiwiYW5pbWF0aW9uIiwic2xpZGVzaG93Iiwicm9vdCIsImZhY3RvcnkiLCJkZWZpbmUiLCJhbWQiLCJleHBvcnRzIiwicmVxdWlyZSIsIlplcHRvIiwiZ2xvYmFsIiwiZ2V0QW5pbWF0aW9uRHVyYXRpb24iLCIkZWxlbSIsIklTX0FOSU1BVElPTiIsImNzcyIsIm1heCIsImxlbiIsIm51bSIsImkiLCJkdXJhdGlvbiIsImRlbGF5IiwiaXRlcmF0aW9uQ291bnQiLCJzcGxpdCIsImxlbmd0aCIsIk51bWJlciIsIk5FR0FUSVZFX0lORklOSVRZIiwicGFyc2VGbG9hdCIsInBhcnNlSW50IiwiZ2V0U2Nyb2xsYmFyV2lkdGgiLCJoZWlnaHQiLCJ3aWR0aE5vU2Nyb2xsIiwid2lkdGhXaXRoU2Nyb2xsIiwib3V0ZXIiLCJjcmVhdGVFbGVtZW50IiwiaW5uZXIiLCJzdHlsZSIsInZpc2liaWxpdHkiLCJhcHBlbmRDaGlsZCIsIm9mZnNldFdpZHRoIiwib3ZlcmZsb3ciLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJsb2NrU2NyZWVuIiwiSVNfSU9TIiwicGFkZGluZ1JpZ2h0IiwiJGJvZHkiLCIkaHRtbCIsImxvY2tlZENsYXNzIiwibmFtZXNwYWNpZnkiLCJ1bmxvY2tTY3JlZW4iLCJzZXRTdGF0ZSIsImluc3RhbmNlIiwic3RhdGUiLCJpc1NpbGVudCIsInJlYXNvbiIsIm5ld1N0YXRlIiwiYWxsU3RhdGVzIiwiU1RBVEVTIiwiQ0xPU0lORyIsIk9QRU5JTkciLCJDTE9TRUQiLCJPUEVORUQiLCJqb2luIiwiJGJnIiwiJG92ZXJsYXkiLCIkd3JhcHBlciIsIiRtb2RhbCIsInRyaWdnZXIiLCJzeW5jV2l0aEFuaW1hdGlvbiIsImRvQmVmb3JlQW5pbWF0aW9uIiwiZG9BZnRlckFuaW1hdGlvbiIsInJ1bm5pbmdBbmltYXRpb25zQ291bnQiLCJoYW5kbGVBbmltYXRpb25TdGFydCIsInRhcmdldCIsImhhbmRsZUFuaW1hdGlvbkVuZCIsImVhY2giLCJpbmRleCIsImVsZW1OYW1lIiwib2ZmIiwiQU5JTUFUSU9OU1RBUlRfRVZFTlRTIiwiQU5JTUFUSU9ORU5EX0VWRU5UUyIsImhhbHQiLCJzZXR0aW5ncyIsIm1vZGlmaWVyIiwiaGlkZSIsInBhcnNlT3B0aW9ucyIsInN0ciIsImFyciIsInZhbCIsIm9iaiIsInJlcGxhY2UiLCJTdHJpbmciLCJpc05hTiIsInJlc3VsdCIsIk5BTUVTUEFDRSIsImFyZ3VtZW50cyIsImhhbmRsZUhhc2hDaGFuZ2VFdmVudCIsImlkIiwibG9jYXRpb24iLCJoYXNoIiwiUExVR0lOX05BTUUiLCJlcnIiLCJsb29rdXAiLCJkYXRhIiwiaGFzaFRyYWNraW5nIiwib3BlbiIsImN1cnJlbnQiLCJjbG9zZSIsIlJlbW9kYWwiLCJvcHRpb25zIiwicmVtb2RhbCIsImV4dGVuZCIsIkRFRkFVTFRTIiwicHVzaCIsImFwcGVuZCIsImF0dHIiLCJTVEFURV9DSEFOR0VfUkVBU09OUyIsIkNBTkNFTExBVElPTiIsImNsb3NlT25DYW5jZWwiLCJDT05GSVJNQVRJT04iLCJjbG9zZU9uQ29uZmlybSIsIiR0YXJnZXQiLCJjbG9zZU9uT3V0c2lkZUNsaWNrIiwic2Nyb2xsVG9wIiwiUkVNT0RBTF9HTE9CQUxTIiwibWFwIiwiZXZlbnROYW1lIiwiY2xvc2VPbkVzY2FwZSIsInVuZGVmaW5lZCIsImFuaW1hdGlvbk5hbWUiLCJXZWJraXRBbmltYXRpb25OYW1lIiwiTW96QW5pbWF0aW9uTmFtZSIsIm1zQW5pbWF0aW9uTmFtZSIsIk9BbmltYXRpb25OYW1lIiwidGVzdCIsIm5hdmlnYXRvciIsInBsYXRmb3JtIiwicHJvdG90eXBlIiwic2hvdyIsInN1YnN0ciIsImdldFN0YXRlIiwiZGVzdHJveSIsImluc3RhbmNlQ291bnQiLCJyZW1vdmUiLCJncmVwIiwiZm4iLCJvcHRzIiwiZWxlbSIsImN1cnJlbnRUYXJnZXQiLCJnZXRBdHRyaWJ1dGUiLCJjb250YWluZXIiLCIkY29udGFpbmVyIiwia2V5Q29kZSIsInNjcm9sbCIsInN0aWNreSIsImNvbHVtbnMiLCJzZXRDb2x1bW5zIiwicmVzaXplIiwibWFzb25yeSIsIml0ZW1TZWxlY3RvciIsImNvbHVtbldpZHRoIiwiY29udGFpbmVyV2lkdGgiXSwibWFwcGluZ3MiOiJBQUdBQSxPQUFPQyxVQUFVQyxNQUFNLFNBQVNDLEdBK0U5QixRQUFTQyxLQUNQRCxFQUFFLG1CQUFtQkUsWUFBWSxrQkFDakNGLEVBQUUsbUJBQW1CRSxZQUFZLGtCQUNqQ0YsRUFBRSxtQkFBbUJFLFlBQVksa0JBQ2pDRixFQUFFLG9CQUFvQkcsU0FBUyxhQUMvQkgsRUFBRSxtQkFBbUJFLFlBQVksWUFDakNGLEVBQUUsY0FBY0UsWUFBWSxhQUM1QkYsRUFBRSxvQkFBb0JFLFlBQVksa0JBQWtCRSxJQUFJLGtGQUFtRixXQUN6SUosRUFBRSxRQUFRRSxZQUFZLHFCQUkxQixRQUFTRyxHQUFhQyxHQUNYLFNBQU5BLEdBRUROLEVBQUUsY0FBY0UsWUFBWSxjQUM1QkYsRUFBRSxzQkFBc0JFLFlBQVkscUJBQ3BDRixF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SUFBd0JBLFlBQW1CbEIsV0FDM0RrQixFQUFVeEIsRUFBYXdCLElBRnZCQSxLQUtGMEMsRUFBV25ELEdBQWFTLEtBSTFCbkosRUFBRUYsVUFBVTJCLEdBQUcsV0FBYTJHLEVBQVcsU0FBU3JILEdBQzFDaUksR0FBV0EsRUFBUXhCLFNBQVM2QyxlQUFpQnJCLEVBQVF0RCxRQUFVSyxFQUFPSSxRQUF3QixLQUFkcEYsRUFBRStLLFNBQ3BGOUMsRUFBUUMsVUFLWmpKLEVBQUVRLFFBQVFpQixHQUFHLGNBQWdCMkcsRUFBV0UsT0FNNUN0SSxFQUFFUSxRQUFRdUwsT0FBTyxXQUNmLEdBQUlDLEdBQVNoTSxFQUFFLG1CQUNYK0wsRUFBUy9MLEVBQUVRLFFBQVF5SixXQUVuQjhCLElBQVUsSUFBS0MsRUFBTzdMLFNBQVMsc0JBQzlCNkwsRUFBTzlMLFlBQVksd0JBSzFCRixFQUFHUSxRQUFTNkIsS0FBTSxXQUVkLEdBQUk0SixHQUFhLEVBQ2JDLEVBQWEsV0FBYUQsRUFBVWpNLEVBQUdRLFFBQVNDLFFBQVUsSUFBTSxFQUFJVCxFQUFHUSxRQUFTQyxRQUFVLElBQU0sRUFBSSxFQUV4R3lMLEtBQ0FsTSxFQUFHUSxRQUFTMkwsT0FBUUQsR0FFcEJsTSxFQUFHLFNBQVVvTSxTQUVUQyxhQUFjLFFBQ2RDLFlBQWMsU0FBVUMsR0FBbUIsTUFBT0EsR0FBaUJOIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4gKiBDdXN0b21cclxuICovXHJcbmpRdWVyeShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oJCl7XHJcbiAgLy9pZiB5b3UgY2hhbmdlIHRoaXMgYnJlYWtwb2ludCBpbiB0aGUgc3R5bGUuY3NzIGZpbGUgKG9yIF9sYXlvdXQuc2NzcyBpZiB5b3UgdXNlIFNBU1MpLCBkb24ndCBmb3JnZXQgdG8gdXBkYXRlIHRoaXMgdmFsdWUgYXMgd2VsbFxyXG4gIHZhciBNcUwgPSAxMTcwO1xyXG4gIC8vbW92ZSBuYXYgZWxlbWVudCBwb3NpdGlvbiBhY2NvcmRpbmcgdG8gd2luZG93IHdpZHRoXHJcbiAgbW92ZU5hdmlnYXRpb24oKTtcclxuICAkKHdpbmRvdykub24oJ3Jlc2l6ZScsIGZ1bmN0aW9uKCl7XHJcbiAgICAoIXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpID8gc2V0VGltZW91dChtb3ZlTmF2aWdhdGlvbiwgMzAwKSA6IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUobW92ZU5hdmlnYXRpb24pO1xyXG4gIH0pO1xyXG5cclxuICAvL21vYmlsZSAtIG9wZW4gbGF0ZXJhbCBtZW51IGNsaWNraW5nIG9uIHRoZSBtZW51IGljb25cclxuICAkKCcuY2QtbmF2LXRyaWdnZXInKS5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCl7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgaWYoICQoJy5jZC1tYWluLWNvbnRlbnQnKS5oYXNDbGFzcygnbmF2LWlzLXZpc2libGUnKSApIHtcclxuICAgICAgY2xvc2VOYXYoKTtcclxuICAgICAgJCgnLmNkLW92ZXJsYXknKS5yZW1vdmVDbGFzcygnaXMtdmlzaWJsZScpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgJCh0aGlzKS5hZGRDbGFzcygnbmF2LWlzLXZpc2libGUnKTtcclxuICAgICAgJCgnLmNkLXByaW1hcnktbmF2JykuYWRkQ2xhc3MoJ25hdi1pcy12aXNpYmxlJyk7XHJcbiAgICAgICQoJy5jZC1tYWluLWhlYWRlcicpLmFkZENsYXNzKCduYXYtaXMtdmlzaWJsZScpO1xyXG4gICAgICAkKCcuY2QtbWFpbi1jb250ZW50JykuYWRkQ2xhc3MoJ25hdi1pcy12aXNpYmxlJykub25lKCd3ZWJraXRUcmFuc2l0aW9uRW5kIG90cmFuc2l0aW9uZW5kIG9UcmFuc2l0aW9uRW5kIG1zVHJhbnNpdGlvbkVuZCB0cmFuc2l0aW9uZW5kJywgZnVuY3Rpb24oKXtcclxuICAgICAgICAkKCdib2R5JykuYWRkQ2xhc3MoJ292ZXJmbG93LWhpZGRlbicpO1xyXG4gICAgICB9KTtcclxuICAgICAgdG9nZ2xlU2VhcmNoKCdjbG9zZScpO1xyXG4gICAgICAkKCcuY2Qtb3ZlcmxheScpLmFkZENsYXNzKCdpcy12aXNpYmxlJyk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIC8vb3BlbiBzZWFyY2ggZm9ybVxyXG4gICQoJy5jZC1zZWFyY2gtdHJpZ2dlcicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KXtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB0b2dnbGVTZWFyY2goKTtcclxuICAgIGNsb3NlTmF2KCk7XHJcbiAgfSk7XHJcblxyXG4gIC8vY2xvc2UgbGF0ZXJhbCBtZW51IG9uIG1vYmlsZSBcclxuICAkKCcuY2Qtb3ZlcmxheScpLm9uKCdzd2lwZXJpZ2h0JywgZnVuY3Rpb24oKXtcclxuICAgIGlmKCQoJy5jZC1wcmltYXJ5LW5hdicpLmhhc0NsYXNzKCduYXYtaXMtdmlzaWJsZScpKSB7XHJcbiAgICAgIGNsb3NlTmF2KCk7XHJcbiAgICAgICQoJy5jZC1vdmVybGF5JykucmVtb3ZlQ2xhc3MoJ2lzLXZpc2libGUnKTtcclxuICAgIH1cclxuICB9KTtcclxuICAkKCcubmF2LW9uLWxlZnQgLmNkLW92ZXJsYXknKS5vbignc3dpcGVsZWZ0JywgZnVuY3Rpb24oKXtcclxuICAgIGlmKCQoJy5jZC1wcmltYXJ5LW5hdicpLmhhc0NsYXNzKCduYXYtaXMtdmlzaWJsZScpKSB7XHJcbiAgICAgIGNsb3NlTmF2KCk7XHJcbiAgICAgICQoJy5jZC1vdmVybGF5JykucmVtb3ZlQ2xhc3MoJ2lzLXZpc2libGUnKTtcclxuICAgIH1cclxuICB9KTtcclxuICAkKCcuY2Qtb3ZlcmxheScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCl7XHJcbiAgICBjbG9zZU5hdigpO1xyXG4gICAgdG9nZ2xlU2VhcmNoKCdjbG9zZScpXHJcbiAgICAkKCcuY2Qtb3ZlcmxheScpLnJlbW92ZUNsYXNzKCdpcy12aXNpYmxlJyk7XHJcbiAgfSk7XHJcblxyXG5cclxuICAvL3ByZXZlbnQgZGVmYXVsdCBjbGlja2luZyBvbiBkaXJlY3QgY2hpbGRyZW4gb2YgLmNkLXByaW1hcnktbmF2IFxyXG4gICQoJy5jZC1wcmltYXJ5LW5hdicpLmNoaWxkcmVuKCcuaGFzLWNoaWxkcmVuJykuY2hpbGRyZW4oJ2EnKS5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCl7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIH0pO1xyXG4gIC8vb3BlbiBzdWJtZW51XHJcbiAgJCgnLmhhcy1jaGlsZHJlbicpLmNoaWxkcmVuKCdhJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpe1xyXG4gICAgaWYoICFjaGVja1dpbmRvd1dpZHRoKCkgKSBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgdmFyIHNlbGVjdGVkID0gJCh0aGlzKTtcclxuICAgIGlmKCBzZWxlY3RlZC5uZXh0KCd1bCcpLmhhc0NsYXNzKCdpcy1oaWRkZW4nKSApIHtcclxuICAgICAgLy9kZXNrdG9wIHZlcnNpb24gb25seVxyXG4gICAgICBzZWxlY3RlZC5hZGRDbGFzcygnc2VsZWN0ZWQnKS5uZXh0KCd1bCcpLnJlbW92ZUNsYXNzKCdpcy1oaWRkZW4nKS5lbmQoKS5wYXJlbnQoJy5oYXMtY2hpbGRyZW4nKS5wYXJlbnQoJ3VsJykuYWRkQ2xhc3MoJ21vdmVzLW91dCcpO1xyXG4gICAgICBzZWxlY3RlZC5wYXJlbnQoJy5oYXMtY2hpbGRyZW4nKS5zaWJsaW5ncygnLmhhcy1jaGlsZHJlbicpLmNoaWxkcmVuKCd1bCcpLmFkZENsYXNzKCdpcy1oaWRkZW4nKS5lbmQoKS5jaGlsZHJlbignYScpLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpO1xyXG4gICAgICAkKCcuY2Qtb3ZlcmxheScpLmFkZENsYXNzKCdpcy12aXNpYmxlJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzZWxlY3RlZC5yZW1vdmVDbGFzcygnc2VsZWN0ZWQnKS5uZXh0KCd1bCcpLmFkZENsYXNzKCdpcy1oaWRkZW4nKS5lbmQoKS5wYXJlbnQoJy5oYXMtY2hpbGRyZW4nKS5wYXJlbnQoJ3VsJykucmVtb3ZlQ2xhc3MoJ21vdmVzLW91dCcpO1xyXG4gICAgICAkKCcuY2Qtb3ZlcmxheScpLnJlbW92ZUNsYXNzKCdpcy12aXNpYmxlJyk7XHJcbiAgICB9XHJcbiAgICB0b2dnbGVTZWFyY2goJ2Nsb3NlJyk7XHJcbiAgfSk7XHJcblxyXG4gIC8vc3VibWVudSBpdGVtcyAtIGdvIGJhY2sgbGlua1xyXG4gICQoJy5nby1iYWNrJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKXtcclxuICAgICQodGhpcykucGFyZW50KCd1bCcpLmFkZENsYXNzKCdpcy1oaWRkZW4nKS5wYXJlbnQoJy5oYXMtY2hpbGRyZW4nKS5wYXJlbnQoJ3VsJykucmVtb3ZlQ2xhc3MoJ21vdmVzLW91dCcpO1xyXG4gIH0pO1xyXG5cclxuICBmdW5jdGlvbiBjbG9zZU5hdigpIHtcclxuICAgICQoJy5jZC1uYXYtdHJpZ2dlcicpLnJlbW92ZUNsYXNzKCduYXYtaXMtdmlzaWJsZScpO1xyXG4gICAgJCgnLmNkLW1haW4taGVhZGVyJykucmVtb3ZlQ2xhc3MoJ25hdi1pcy12aXNpYmxlJyk7XHJcbiAgICAkKCcuY2QtcHJpbWFyeS1uYXYnKS5yZW1vdmVDbGFzcygnbmF2LWlzLXZpc2libGUnKTtcclxuICAgICQoJy5oYXMtY2hpbGRyZW4gdWwnKS5hZGRDbGFzcygnaXMtaGlkZGVuJyk7XHJcbiAgICAkKCcuaGFzLWNoaWxkcmVuIGEnKS5yZW1vdmVDbGFzcygnc2VsZWN0ZWQnKTtcclxuICAgICQoJy5tb3Zlcy1vdXQnKS5yZW1vdmVDbGFzcygnbW92ZXMtb3V0Jyk7XHJcbiAgICAkKCcuY2QtbWFpbi1jb250ZW50JykucmVtb3ZlQ2xhc3MoJ25hdi1pcy12aXNpYmxlJykub25lKCd3ZWJraXRUcmFuc2l0aW9uRW5kIG90cmFuc2l0aW9uZW5kIG9UcmFuc2l0aW9uRW5kIG1zVHJhbnNpdGlvbkVuZCB0cmFuc2l0aW9uZW5kJywgZnVuY3Rpb24oKXtcclxuICAgICAgJCgnYm9keScpLnJlbW92ZUNsYXNzKCdvdmVyZmxvdy1oaWRkZW4nKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gdG9nZ2xlU2VhcmNoKHR5cGUpIHtcclxuICAgIGlmKHR5cGU9PVwiY2xvc2VcIikge1xyXG4gICAgICAvL2Nsb3NlIHNlcmFjaCBcclxuICAgICAgJCgnLmNkLXNlYXJjaCcpLnJlbW92ZUNsYXNzKCdpcy12aXNpYmxlJyk7XHJcbiAgICAgICQoJy5jZC1zZWFyY2gtdHJpZ2dlcicpLnJlbW92ZUNsYXNzKCdzZWFyY2gtaXMtdmlzaWJsZScpO1xyXG4gICAgICAkKCcuY2Qtb3ZlcmxheScpLnJlbW92ZUNsYXNzKCdzZWFyY2gtaXMtdmlzaWJsZScpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy90b2dnbGUgc2VhcmNoIHZpc2liaWxpdHlcclxuICAgICAgJCgnLmNkLXNlYXJjaCcpLnRvZ2dsZUNsYXNzKCdpcy12aXNpYmxlJyk7XHJcbiAgICAgICQoJy5jZC1zZWFyY2gtdHJpZ2dlcicpLnRvZ2dsZUNsYXNzKCdzZWFyY2gtaXMtdmlzaWJsZScpO1xyXG4gICAgICAkKCcuY2Qtb3ZlcmxheScpLnRvZ2dsZUNsYXNzKCdzZWFyY2gtaXMtdmlzaWJsZScpO1xyXG4gICAgICBpZigkKHdpbmRvdykud2lkdGgoKSA+IE1xTCAmJiAkKCcuY2Qtc2VhcmNoJykuaGFzQ2xhc3MoJ2lzLXZpc2libGUnKSkgJCgnLmNkLXNlYXJjaCcpLmZpbmQoJ2lucHV0W3R5cGU9XCJzZWFyY2hcIl0nKS5mb2N1cygpO1xyXG4gICAgICAoJCgnLmNkLXNlYXJjaCcpLmhhc0NsYXNzKCdpcy12aXNpYmxlJykpID8gJCgnLmNkLW92ZXJsYXknKS5hZGRDbGFzcygnaXMtdmlzaWJsZScpIDogJCgnLmNkLW92ZXJsYXknKS5yZW1vdmVDbGFzcygnaXMtdmlzaWJsZScpIDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNoZWNrV2luZG93V2lkdGgoKSB7XHJcbiAgICAvL2NoZWNrIHdpbmRvdyB3aWR0aCAoc2Nyb2xsYmFyIGluY2x1ZGVkKVxyXG4gICAgdmFyIGUgPSB3aW5kb3csIFxyXG4gICAgICAgICAgICBhID0gJ2lubmVyJztcclxuICAgICAgICBpZiAoISgnaW5uZXJXaWR0aCcgaW4gd2luZG93ICkpIHtcclxuICAgICAgICAgICAgYSA9ICdjbGllbnQnO1xyXG4gICAgICAgICAgICBlID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50IHx8IGRvY3VtZW50LmJvZHk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICggZVsgYSsnV2lkdGgnIF0gPj0gTXFMICkge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIG1vdmVOYXZpZ2F0aW9uKCl7XHJcbiAgICB2YXIgbmF2aWdhdGlvbiA9ICQoJy5jZC1uYXYnKTtcclxuICAgICAgdmFyIGRlc2t0b3AgPSBjaGVja1dpbmRvd1dpZHRoKCk7XHJcbiAgICAgICAgaWYgKCBkZXNrdG9wICkge1xyXG4gICAgICBuYXZpZ2F0aW9uLmRldGFjaCgpO1xyXG4gICAgICBuYXZpZ2F0aW9uLmluc2VydEJlZm9yZSgnLmNkLWhlYWRlci1idXR0b25zJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBuYXZpZ2F0aW9uLmRldGFjaCgpO1xyXG4gICAgICBuYXZpZ2F0aW9uLmluc2VydEFmdGVyKCcuY2QtbWFpbi1jb250ZW50Jyk7XHJcbiAgICB9XHJcbiAgfVxyXG59KTtcclxuXHJcbi8vZmxleCBzbGlkZXJzXHJcbiQod2luZG93KS5sb2FkKGZ1bmN0aW9uKCkge1xyXG4gICQoJy5mbGV4c2xpZGVyJykuZmxleHNsaWRlcih7XHJcbiAgICBhbmltYXRpb246IFwic2xpZGVcIixcclxuICAgIHNsaWRlc2hvdzogXCJmYWxzZVwiXHJcbiAgfSk7XHJcbiAgJCgnLnNhbGVzLXNsaWRlcicpLmZsZXhzbGlkZXIoe1xyXG4gICAgYW5pbWF0aW9uOiBcInNsaWRlXCIsXHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuLy9Nb2RhbHNcclxuLypcclxuICogIFJlbW9kYWwgLSB2MS4wLjZcclxuICogIFJlc3BvbnNpdmUsIGxpZ2h0d2VpZ2h0LCBmYXN0LCBzeW5jaHJvbml6ZWQgd2l0aCBDU1MgYW5pbWF0aW9ucywgZnVsbHkgY3VzdG9taXphYmxlIG1vZGFsIHdpbmRvdyBwbHVnaW4gd2l0aCBkZWNsYXJhdGl2ZSBjb25maWd1cmF0aW9uIGFuZCBoYXNoIHRyYWNraW5nLlxyXG4gKiAgaHR0cDovL3ZvZGthYmVhcnMuZ2l0aHViLmlvL3JlbW9kYWwvXHJcbiAqXHJcbiAqICBNYWRlIGJ5IElseWEgTWFrYXJvdlxyXG4gKiAgVW5kZXIgTUlUIExpY2Vuc2VcclxuICovXHJcblxyXG4hKGZ1bmN0aW9uKHJvb3QsIGZhY3RvcnkpIHtcclxuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XHJcbiAgICBkZWZpbmUoWydqcXVlcnknXSwgZnVuY3Rpb24oJCkge1xyXG4gICAgICByZXR1cm4gZmFjdG9yeShyb290LCAkKTtcclxuICAgIH0pO1xyXG4gIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XHJcbiAgICBmYWN0b3J5KHJvb3QsIHJlcXVpcmUoJ2pxdWVyeScpKTtcclxuICB9IGVsc2Uge1xyXG4gICAgZmFjdG9yeShyb290LCByb290LmpRdWVyeSB8fCByb290LlplcHRvKTtcclxuICB9XHJcbn0pKHRoaXMsIGZ1bmN0aW9uKGdsb2JhbCwgJCkge1xyXG5cclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIC8qKlxyXG4gICAqIE5hbWUgb2YgdGhlIHBsdWdpblxyXG4gICAqIEBwcml2YXRlXHJcbiAgICogQGNvbnN0XHJcbiAgICogQHR5cGUge1N0cmluZ31cclxuICAgKi9cclxuICB2YXIgUExVR0lOX05BTUUgPSAncmVtb2RhbCc7XHJcblxyXG4gIC8qKlxyXG4gICAqIE5hbWVzcGFjZSBmb3IgQ1NTIGFuZCBldmVudHNcclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqIEBjb25zdFxyXG4gICAqIEB0eXBlIHtTdHJpbmd9XHJcbiAgICovXHJcbiAgdmFyIE5BTUVTUEFDRSA9IGdsb2JhbC5SRU1PREFMX0dMT0JBTFMgJiYgZ2xvYmFsLlJFTU9EQUxfR0xPQkFMUy5OQU1FU1BBQ0UgfHwgUExVR0lOX05BTUU7XHJcblxyXG4gIC8qKlxyXG4gICAqIEFuaW1hdGlvbnN0YXJ0IGV2ZW50IHdpdGggdmVuZG9yIHByZWZpeGVzXHJcbiAgICogQHByaXZhdGVcclxuICAgKiBAY29uc3RcclxuICAgKiBAdHlwZSB7U3RyaW5nfVxyXG4gICAqL1xyXG4gIHZhciBBTklNQVRJT05TVEFSVF9FVkVOVFMgPSAkLm1hcChcclxuICAgIFsnYW5pbWF0aW9uc3RhcnQnLCAnd2Via2l0QW5pbWF0aW9uU3RhcnQnLCAnTVNBbmltYXRpb25TdGFydCcsICdvQW5pbWF0aW9uU3RhcnQnXSxcclxuXHJcbiAgICBmdW5jdGlvbihldmVudE5hbWUpIHtcclxuICAgICAgcmV0dXJuIGV2ZW50TmFtZSArICcuJyArIE5BTUVTUEFDRTtcclxuICAgIH1cclxuXHJcbiAgKS5qb2luKCcgJyk7XHJcblxyXG4gIC8qKlxyXG4gICAqIEFuaW1hdGlvbmVuZCBldmVudCB3aXRoIHZlbmRvciBwcmVmaXhlc1xyXG4gICAqIEBwcml2YXRlXHJcbiAgICogQGNvbnN0XHJcbiAgICogQHR5cGUge1N0cmluZ31cclxuICAgKi9cclxuICB2YXIgQU5JTUFUSU9ORU5EX0VWRU5UUyA9ICQubWFwKFxyXG4gICAgWydhbmltYXRpb25lbmQnLCAnd2Via2l0QW5pbWF0aW9uRW5kJywgJ01TQW5pbWF0aW9uRW5kJywgJ29BbmltYXRpb25FbmQnXSxcclxuXHJcbiAgICBmdW5jdGlvbihldmVudE5hbWUpIHtcclxuICAgICAgcmV0dXJuIGV2ZW50TmFtZSArICcuJyArIE5BTUVTUEFDRTtcclxuICAgIH1cclxuXHJcbiAgKS5qb2luKCcgJyk7XHJcblxyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgc2V0dGluZ3NcclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqIEBjb25zdFxyXG4gICAqIEB0eXBlIHtPYmplY3R9XHJcbiAgICovXHJcbiAgdmFyIERFRkFVTFRTID0gJC5leHRlbmQoe1xyXG4gICAgaGFzaFRyYWNraW5nOiB0cnVlLFxyXG4gICAgY2xvc2VPbkNvbmZpcm06IHRydWUsXHJcbiAgICBjbG9zZU9uQ2FuY2VsOiB0cnVlLFxyXG4gICAgY2xvc2VPbkVzY2FwZTogdHJ1ZSxcclxuICAgIGNsb3NlT25PdXRzaWRlQ2xpY2s6IHRydWUsXHJcbiAgICBtb2RpZmllcjogJydcclxuICB9LCBnbG9iYWwuUkVNT0RBTF9HTE9CQUxTICYmIGdsb2JhbC5SRU1PREFMX0dMT0JBTFMuREVGQVVMVFMpO1xyXG5cclxuICAvKipcclxuICAgKiBTdGF0ZXMgb2YgdGhlIFJlbW9kYWxcclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqIEBjb25zdFxyXG4gICAqIEBlbnVtIHtTdHJpbmd9XHJcbiAgICovXHJcbiAgdmFyIFNUQVRFUyA9IHtcclxuICAgIENMT1NJTkc6ICdjbG9zaW5nJyxcclxuICAgIENMT1NFRDogJ2Nsb3NlZCcsXHJcbiAgICBPUEVOSU5HOiAnb3BlbmluZycsXHJcbiAgICBPUEVORUQ6ICdvcGVuZWQnXHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogUmVhc29ucyBvZiB0aGUgc3RhdGUgY2hhbmdlLlxyXG4gICAqIEBwcml2YXRlXHJcbiAgICogQGNvbnN0XHJcbiAgICogQGVudW0ge1N0cmluZ31cclxuICAgKi9cclxuICB2YXIgU1RBVEVfQ0hBTkdFX1JFQVNPTlMgPSB7XHJcbiAgICBDT05GSVJNQVRJT046ICdjb25maXJtYXRpb24nLFxyXG4gICAgQ0FOQ0VMTEFUSU9OOiAnY2FuY2VsbGF0aW9uJ1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIElzIGFuaW1hdGlvbiBzdXBwb3J0ZWQ/XHJcbiAgICogQHByaXZhdGVcclxuICAgKiBAY29uc3RcclxuICAgKiBAdHlwZSB7Qm9vbGVhbn1cclxuICAgKi9cclxuICB2YXIgSVNfQU5JTUFUSU9OID0gKGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jykuc3R5bGU7XHJcblxyXG4gICAgcmV0dXJuIHN0eWxlLmFuaW1hdGlvbk5hbWUgIT09IHVuZGVmaW5lZCB8fFxyXG4gICAgICBzdHlsZS5XZWJraXRBbmltYXRpb25OYW1lICE9PSB1bmRlZmluZWQgfHxcclxuICAgICAgc3R5bGUuTW96QW5pbWF0aW9uTmFtZSAhPT0gdW5kZWZpbmVkIHx8XHJcbiAgICAgIHN0eWxlLm1zQW5pbWF0aW9uTmFtZSAhPT0gdW5kZWZpbmVkIHx8XHJcbiAgICAgIHN0eWxlLk9BbmltYXRpb25OYW1lICE9PSB1bmRlZmluZWQ7XHJcbiAgfSkoKTtcclxuXHJcbiAgLyoqXHJcbiAgICogSXMgaU9TP1xyXG4gICAqIEBwcml2YXRlXHJcbiAgICogQGNvbnN0XHJcbiAgICogQHR5cGUge0Jvb2xlYW59XHJcbiAgICovXHJcbiAgdmFyIElTX0lPUyA9IC9pUGFkfGlQaG9uZXxpUG9kLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSk7XHJcblxyXG4gIC8qKlxyXG4gICAqIEN1cnJlbnQgbW9kYWxcclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqIEB0eXBlIHtSZW1vZGFsfVxyXG4gICAqL1xyXG4gIHZhciBjdXJyZW50O1xyXG5cclxuICAvKipcclxuICAgKiBTY3JvbGxiYXIgcG9zaXRpb25cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICovXHJcbiAgdmFyIHNjcm9sbFRvcDtcclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyBhbiBhbmltYXRpb24gZHVyYXRpb25cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqIEBwYXJhbSB7alF1ZXJ5fSAkZWxlbVxyXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9XHJcbiAgICovXHJcbiAgZnVuY3Rpb24gZ2V0QW5pbWF0aW9uRHVyYXRpb24oJGVsZW0pIHtcclxuICAgIGlmIChcclxuICAgICAgSVNfQU5JTUFUSU9OICYmXHJcbiAgICAgICRlbGVtLmNzcygnYW5pbWF0aW9uLW5hbWUnKSA9PT0gJ25vbmUnICYmXHJcbiAgICAgICRlbGVtLmNzcygnLXdlYmtpdC1hbmltYXRpb24tbmFtZScpID09PSAnbm9uZScgJiZcclxuICAgICAgJGVsZW0uY3NzKCctbW96LWFuaW1hdGlvbi1uYW1lJykgPT09ICdub25lJyAmJlxyXG4gICAgICAkZWxlbS5jc3MoJy1vLWFuaW1hdGlvbi1uYW1lJykgPT09ICdub25lJyAmJlxyXG4gICAgICAkZWxlbS5jc3MoJy1tcy1hbmltYXRpb24tbmFtZScpID09PSAnbm9uZSdcclxuICAgICkge1xyXG4gICAgICByZXR1cm4gMDtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgZHVyYXRpb24gPSAkZWxlbS5jc3MoJ2FuaW1hdGlvbi1kdXJhdGlvbicpIHx8XHJcbiAgICAgICRlbGVtLmNzcygnLXdlYmtpdC1hbmltYXRpb24tZHVyYXRpb24nKSB8fFxyXG4gICAgICAkZWxlbS5jc3MoJy1tb3otYW5pbWF0aW9uLWR1cmF0aW9uJykgfHxcclxuICAgICAgJGVsZW0uY3NzKCctby1hbmltYXRpb24tZHVyYXRpb24nKSB8fFxyXG4gICAgICAkZWxlbS5jc3MoJy1tcy1hbmltYXRpb24tZHVyYXRpb24nKSB8fFxyXG4gICAgICAnMHMnO1xyXG5cclxuICAgIHZhciBkZWxheSA9ICRlbGVtLmNzcygnYW5pbWF0aW9uLWRlbGF5JykgfHxcclxuICAgICAgJGVsZW0uY3NzKCctd2Via2l0LWFuaW1hdGlvbi1kZWxheScpIHx8XHJcbiAgICAgICRlbGVtLmNzcygnLW1vei1hbmltYXRpb24tZGVsYXknKSB8fFxyXG4gICAgICAkZWxlbS5jc3MoJy1vLWFuaW1hdGlvbi1kZWxheScpIHx8XHJcbiAgICAgICRlbGVtLmNzcygnLW1zLWFuaW1hdGlvbi1kZWxheScpIHx8XHJcbiAgICAgICcwcyc7XHJcblxyXG4gICAgdmFyIGl0ZXJhdGlvbkNvdW50ID0gJGVsZW0uY3NzKCdhbmltYXRpb24taXRlcmF0aW9uLWNvdW50JykgfHxcclxuICAgICAgJGVsZW0uY3NzKCctd2Via2l0LWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQnKSB8fFxyXG4gICAgICAkZWxlbS5jc3MoJy1tb3otYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCcpIHx8XHJcbiAgICAgICRlbGVtLmNzcygnLW8tYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCcpIHx8XHJcbiAgICAgICRlbGVtLmNzcygnLW1zLWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQnKSB8fFxyXG4gICAgICAnMSc7XHJcblxyXG4gICAgdmFyIG1heDtcclxuICAgIHZhciBsZW47XHJcbiAgICB2YXIgbnVtO1xyXG4gICAgdmFyIGk7XHJcblxyXG4gICAgZHVyYXRpb24gPSBkdXJhdGlvbi5zcGxpdCgnLCAnKTtcclxuICAgIGRlbGF5ID0gZGVsYXkuc3BsaXQoJywgJyk7XHJcbiAgICBpdGVyYXRpb25Db3VudCA9IGl0ZXJhdGlvbkNvdW50LnNwbGl0KCcsICcpO1xyXG5cclxuICAgIC8vIFRoZSAnZHVyYXRpb24nIHNpemUgaXMgdGhlIHNhbWUgYXMgdGhlICdkZWxheScgc2l6ZVxyXG4gICAgZm9yIChpID0gMCwgbGVuID0gZHVyYXRpb24ubGVuZ3RoLCBtYXggPSBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFk7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICBudW0gPSBwYXJzZUZsb2F0KGR1cmF0aW9uW2ldKSAqIHBhcnNlSW50KGl0ZXJhdGlvbkNvdW50W2ldLCAxMCkgKyBwYXJzZUZsb2F0KGRlbGF5W2ldKTtcclxuXHJcbiAgICAgIGlmIChudW0gPiBtYXgpIHtcclxuICAgICAgICBtYXggPSBudW07XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbnVtO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyBhIHNjcm9sbGJhciB3aWR0aFxyXG4gICAqIEBwcml2YXRlXHJcbiAgICogQHJldHVybnMge051bWJlcn1cclxuICAgKi9cclxuICBmdW5jdGlvbiBnZXRTY3JvbGxiYXJXaWR0aCgpIHtcclxuICAgIGlmICgkKGRvY3VtZW50LmJvZHkpLmhlaWdodCgpIDw9ICQod2luZG93KS5oZWlnaHQoKSkge1xyXG4gICAgICByZXR1cm4gMDtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgb3V0ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBpbm5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIHdpZHRoTm9TY3JvbGw7XHJcbiAgICB2YXIgd2lkdGhXaXRoU2Nyb2xsO1xyXG5cclxuICAgIG91dGVyLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcclxuICAgIG91dGVyLnN0eWxlLndpZHRoID0gJzEwMHB4JztcclxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQob3V0ZXIpO1xyXG5cclxuICAgIHdpZHRoTm9TY3JvbGwgPSBvdXRlci5vZmZzZXRXaWR0aDtcclxuXHJcbiAgICAvLyBGb3JjZSBzY3JvbGxiYXJzXHJcbiAgICBvdXRlci5zdHlsZS5vdmVyZmxvdyA9ICdzY3JvbGwnO1xyXG5cclxuICAgIC8vIEFkZCBpbm5lciBkaXZcclxuICAgIGlubmVyLnN0eWxlLndpZHRoID0gJzEwMCUnO1xyXG4gICAgb3V0ZXIuYXBwZW5kQ2hpbGQoaW5uZXIpO1xyXG5cclxuICAgIHdpZHRoV2l0aFNjcm9sbCA9IGlubmVyLm9mZnNldFdpZHRoO1xyXG5cclxuICAgIC8vIFJlbW92ZSBkaXZzXHJcbiAgICBvdXRlci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG91dGVyKTtcclxuXHJcbiAgICByZXR1cm4gd2lkdGhOb1Njcm9sbCAtIHdpZHRoV2l0aFNjcm9sbDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIExvY2tzIHRoZSBzY3JlZW5cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGxvY2tTY3JlZW4oKSB7XHJcbiAgICBpZiAoSVNfSU9TKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgJGh0bWwgPSAkKCdodG1sJyk7XHJcbiAgICB2YXIgbG9ja2VkQ2xhc3MgPSBuYW1lc3BhY2lmeSgnaXMtbG9ja2VkJyk7XHJcbiAgICB2YXIgcGFkZGluZ1JpZ2h0O1xyXG4gICAgdmFyICRib2R5O1xyXG5cclxuICAgIGlmICghJGh0bWwuaGFzQ2xhc3MobG9ja2VkQ2xhc3MpKSB7XHJcbiAgICAgICRib2R5ID0gJChkb2N1bWVudC5ib2R5KTtcclxuXHJcbiAgICAgIC8vIFplcHRvIGRvZXMgbm90IHN1cHBvcnQgJy09JywgJys9JyBpbiB0aGUgYGNzc2AgbWV0aG9kXHJcbiAgICAgIHBhZGRpbmdSaWdodCA9IHBhcnNlSW50KCRib2R5LmNzcygncGFkZGluZy1yaWdodCcpLCAxMCkgKyBnZXRTY3JvbGxiYXJXaWR0aCgpO1xyXG5cclxuICAgICAgJGJvZHkuY3NzKCdwYWRkaW5nLXJpZ2h0JywgcGFkZGluZ1JpZ2h0ICsgJ3B4Jyk7XHJcbiAgICAgICRodG1sLmFkZENsYXNzKGxvY2tlZENsYXNzKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFVubG9ja3MgdGhlIHNjcmVlblxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gdW5sb2NrU2NyZWVuKCkge1xyXG4gICAgaWYgKElTX0lPUykge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdmFyICRodG1sID0gJCgnaHRtbCcpO1xyXG4gICAgdmFyIGxvY2tlZENsYXNzID0gbmFtZXNwYWNpZnkoJ2lzLWxvY2tlZCcpO1xyXG4gICAgdmFyIHBhZGRpbmdSaWdodDtcclxuICAgIHZhciAkYm9keTtcclxuXHJcbiAgICBpZiAoJGh0bWwuaGFzQ2xhc3MobG9ja2VkQ2xhc3MpKSB7XHJcbiAgICAgICRib2R5ID0gJChkb2N1bWVudC5ib2R5KTtcclxuXHJcbiAgICAgIC8vIFplcHRvIGRvZXMgbm90IHN1cHBvcnQgJy09JywgJys9JyBpbiB0aGUgYGNzc2AgbWV0aG9kXHJcbiAgICAgIHBhZGRpbmdSaWdodCA9IHBhcnNlSW50KCRib2R5LmNzcygncGFkZGluZy1yaWdodCcpLCAxMCkgLSBnZXRTY3JvbGxiYXJXaWR0aCgpO1xyXG5cclxuICAgICAgJGJvZHkuY3NzKCdwYWRkaW5nLXJpZ2h0JywgcGFkZGluZ1JpZ2h0ICsgJ3B4Jyk7XHJcbiAgICAgICRodG1sLnJlbW92ZUNsYXNzKGxvY2tlZENsYXNzKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldHMgYSBzdGF0ZSBmb3IgYW4gaW5zdGFuY2VcclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqIEBwYXJhbSB7UmVtb2RhbH0gaW5zdGFuY2VcclxuICAgKiBAcGFyYW0ge1NUQVRFU30gc3RhdGVcclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IGlzU2lsZW50IElmIHRydWUsIFJlbW9kYWwgZG9lcyBub3QgdHJpZ2dlciBldmVudHNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gUmVhc29uIG9mIGEgc3RhdGUgY2hhbmdlLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIHNldFN0YXRlKGluc3RhbmNlLCBzdGF0ZSwgaXNTaWxlbnQsIHJlYXNvbikge1xyXG5cclxuICAgIHZhciBuZXdTdGF0ZSA9IG5hbWVzcGFjaWZ5KCdpcycsIHN0YXRlKTtcclxuICAgIHZhciBhbGxTdGF0ZXMgPSBbbmFtZXNwYWNpZnkoJ2lzJywgU1RBVEVTLkNMT1NJTkcpLFxyXG4gICAgICAgICAgICAgICAgICAgICBuYW1lc3BhY2lmeSgnaXMnLCBTVEFURVMuT1BFTklORyksXHJcbiAgICAgICAgICAgICAgICAgICAgIG5hbWVzcGFjaWZ5KCdpcycsIFNUQVRFUy5DTE9TRUQpLFxyXG4gICAgICAgICAgICAgICAgICAgICBuYW1lc3BhY2lmeSgnaXMnLCBTVEFURVMuT1BFTkVEKV0uam9pbignICcpO1xyXG5cclxuICAgIGluc3RhbmNlLiRiZ1xyXG4gICAgICAucmVtb3ZlQ2xhc3MoYWxsU3RhdGVzKVxyXG4gICAgICAuYWRkQ2xhc3MobmV3U3RhdGUpO1xyXG5cclxuICAgIGluc3RhbmNlLiRvdmVybGF5XHJcbiAgICAgIC5yZW1vdmVDbGFzcyhhbGxTdGF0ZXMpXHJcbiAgICAgIC5hZGRDbGFzcyhuZXdTdGF0ZSk7XHJcblxyXG4gICAgaW5zdGFuY2UuJHdyYXBwZXJcclxuICAgICAgLnJlbW92ZUNsYXNzKGFsbFN0YXRlcylcclxuICAgICAgLmFkZENsYXNzKG5ld1N0YXRlKTtcclxuXHJcbiAgICBpbnN0YW5jZS4kbW9kYWxcclxuICAgICAgLnJlbW92ZUNsYXNzKGFsbFN0YXRlcylcclxuICAgICAgLmFkZENsYXNzKG5ld1N0YXRlKTtcclxuXHJcbiAgICBpbnN0YW5jZS5zdGF0ZSA9IHN0YXRlO1xyXG4gICAgIWlzU2lsZW50ICYmIGluc3RhbmNlLiRtb2RhbC50cmlnZ2VyKHtcclxuICAgICAgdHlwZTogc3RhdGUsXHJcbiAgICAgIHJlYXNvbjogcmVhc29uXHJcbiAgICB9LCBbeyByZWFzb246IHJlYXNvbiB9XSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTeW5jaHJvbml6ZXMgd2l0aCB0aGUgYW5pbWF0aW9uXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZG9CZWZvcmVBbmltYXRpb25cclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBkb0FmdGVyQW5pbWF0aW9uXHJcbiAgICogQHBhcmFtIHtSZW1vZGFsfSBpbnN0YW5jZVxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIHN5bmNXaXRoQW5pbWF0aW9uKGRvQmVmb3JlQW5pbWF0aW9uLCBkb0FmdGVyQW5pbWF0aW9uLCBpbnN0YW5jZSkge1xyXG4gICAgdmFyIHJ1bm5pbmdBbmltYXRpb25zQ291bnQgPSAwO1xyXG5cclxuICAgIHZhciBoYW5kbGVBbmltYXRpb25TdGFydCA9IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgaWYgKGUudGFyZ2V0ICE9PSB0aGlzKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBydW5uaW5nQW5pbWF0aW9uc0NvdW50Kys7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBoYW5kbGVBbmltYXRpb25FbmQgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgIGlmIChlLnRhcmdldCAhPT0gdGhpcykge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKC0tcnVubmluZ0FuaW1hdGlvbnNDb3VudCA9PT0gMCkge1xyXG5cclxuICAgICAgICAvLyBSZW1vdmUgZXZlbnQgbGlzdGVuZXJzXHJcbiAgICAgICAgJC5lYWNoKFsnJGJnJywgJyRvdmVybGF5JywgJyR3cmFwcGVyJywgJyRtb2RhbCddLCBmdW5jdGlvbihpbmRleCwgZWxlbU5hbWUpIHtcclxuICAgICAgICAgIGluc3RhbmNlW2VsZW1OYW1lXS5vZmYoQU5JTUFUSU9OU1RBUlRfRVZFTlRTICsgJyAnICsgQU5JTUFUSU9ORU5EX0VWRU5UUyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGRvQWZ0ZXJBbmltYXRpb24oKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAkLmVhY2goWyckYmcnLCAnJG92ZXJsYXknLCAnJHdyYXBwZXInLCAnJG1vZGFsJ10sIGZ1bmN0aW9uKGluZGV4LCBlbGVtTmFtZSkge1xyXG4gICAgICBpbnN0YW5jZVtlbGVtTmFtZV1cclxuICAgICAgICAub24oQU5JTUFUSU9OU1RBUlRfRVZFTlRTLCBoYW5kbGVBbmltYXRpb25TdGFydClcclxuICAgICAgICAub24oQU5JTUFUSU9ORU5EX0VWRU5UUywgaGFuZGxlQW5pbWF0aW9uRW5kKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGRvQmVmb3JlQW5pbWF0aW9uKCk7XHJcblxyXG4gICAgLy8gSWYgdGhlIGFuaW1hdGlvbiBpcyBub3Qgc3VwcG9ydGVkIGJ5IGEgYnJvd3NlciBvciBpdHMgZHVyYXRpb24gaXMgMFxyXG4gICAgaWYgKFxyXG4gICAgICBnZXRBbmltYXRpb25EdXJhdGlvbihpbnN0YW5jZS4kYmcpID09PSAwICYmXHJcbiAgICAgIGdldEFuaW1hdGlvbkR1cmF0aW9uKGluc3RhbmNlLiRvdmVybGF5KSA9PT0gMCAmJlxyXG4gICAgICBnZXRBbmltYXRpb25EdXJhdGlvbihpbnN0YW5jZS4kd3JhcHBlcikgPT09IDAgJiZcclxuICAgICAgZ2V0QW5pbWF0aW9uRHVyYXRpb24oaW5zdGFuY2UuJG1vZGFsKSA9PT0gMFxyXG4gICAgKSB7XHJcblxyXG4gICAgICAvLyBSZW1vdmUgZXZlbnQgbGlzdGVuZXJzXHJcbiAgICAgICQuZWFjaChbJyRiZycsICckb3ZlcmxheScsICckd3JhcHBlcicsICckbW9kYWwnXSwgZnVuY3Rpb24oaW5kZXgsIGVsZW1OYW1lKSB7XHJcbiAgICAgICAgaW5zdGFuY2VbZWxlbU5hbWVdLm9mZihBTklNQVRJT05TVEFSVF9FVkVOVFMgKyAnICcgKyBBTklNQVRJT05FTkRfRVZFTlRTKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBkb0FmdGVyQW5pbWF0aW9uKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDbG9zZXMgaW1tZWRpYXRlbHlcclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqIEBwYXJhbSB7UmVtb2RhbH0gaW5zdGFuY2VcclxuICAgKi9cclxuICBmdW5jdGlvbiBoYWx0KGluc3RhbmNlKSB7XHJcbiAgICBpZiAoaW5zdGFuY2Uuc3RhdGUgPT09IFNUQVRFUy5DTE9TRUQpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgICQuZWFjaChbJyRiZycsICckb3ZlcmxheScsICckd3JhcHBlcicsICckbW9kYWwnXSwgZnVuY3Rpb24oaW5kZXgsIGVsZW1OYW1lKSB7XHJcbiAgICAgIGluc3RhbmNlW2VsZW1OYW1lXS5vZmYoQU5JTUFUSU9OU1RBUlRfRVZFTlRTICsgJyAnICsgQU5JTUFUSU9ORU5EX0VWRU5UUyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpbnN0YW5jZS4kYmcucmVtb3ZlQ2xhc3MoaW5zdGFuY2Uuc2V0dGluZ3MubW9kaWZpZXIpO1xyXG4gICAgaW5zdGFuY2UuJG92ZXJsYXkucmVtb3ZlQ2xhc3MoaW5zdGFuY2Uuc2V0dGluZ3MubW9kaWZpZXIpLmhpZGUoKTtcclxuICAgIGluc3RhbmNlLiR3cmFwcGVyLmhpZGUoKTtcclxuICAgIHVubG9ja1NjcmVlbigpO1xyXG4gICAgc2V0U3RhdGUoaW5zdGFuY2UsIFNUQVRFUy5DTE9TRUQsIHRydWUpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUGFyc2VzIGEgc3RyaW5nIHdpdGggb3B0aW9uc1xyXG4gICAqIEBwcml2YXRlXHJcbiAgICogQHBhcmFtIHN0clxyXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XHJcbiAgICovXHJcbiAgZnVuY3Rpb24gcGFyc2VPcHRpb25zKHN0cikge1xyXG4gICAgdmFyIG9iaiA9IHt9O1xyXG4gICAgdmFyIGFycjtcclxuICAgIHZhciBsZW47XHJcbiAgICB2YXIgdmFsO1xyXG4gICAgdmFyIGk7XHJcblxyXG4gICAgLy8gUmVtb3ZlIHNwYWNlcyBiZWZvcmUgYW5kIGFmdGVyIGRlbGltaXRlcnNcclxuICAgIHN0ciA9IHN0ci5yZXBsYWNlKC9cXHMqOlxccyovZywgJzonKS5yZXBsYWNlKC9cXHMqLFxccyovZywgJywnKTtcclxuXHJcbiAgICAvLyBQYXJzZSBhIHN0cmluZ1xyXG4gICAgYXJyID0gc3RyLnNwbGl0KCcsJyk7XHJcbiAgICBmb3IgKGkgPSAwLCBsZW4gPSBhcnIubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgYXJyW2ldID0gYXJyW2ldLnNwbGl0KCc6Jyk7XHJcbiAgICAgIHZhbCA9IGFycltpXVsxXTtcclxuXHJcbiAgICAgIC8vIENvbnZlcnQgYSBzdHJpbmcgdmFsdWUgaWYgaXQgaXMgbGlrZSBhIGJvb2xlYW5cclxuICAgICAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnIHx8IHZhbCBpbnN0YW5jZW9mIFN0cmluZykge1xyXG4gICAgICAgIHZhbCA9IHZhbCA9PT0gJ3RydWUnIHx8ICh2YWwgPT09ICdmYWxzZScgPyBmYWxzZSA6IHZhbCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIENvbnZlcnQgYSBzdHJpbmcgdmFsdWUgaWYgaXQgaXMgbGlrZSBhIG51bWJlclxyXG4gICAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycgfHwgdmFsIGluc3RhbmNlb2YgU3RyaW5nKSB7XHJcbiAgICAgICAgdmFsID0gIWlzTmFOKHZhbCkgPyArdmFsIDogdmFsO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBvYmpbYXJyW2ldWzBdXSA9IHZhbDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gb2JqO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2VuZXJhdGVzIGEgc3RyaW5nIHNlcGFyYXRlZCBieSBkYXNoZXMgYW5kIHByZWZpeGVkIHdpdGggTkFNRVNQQUNFXHJcbiAgICogQHByaXZhdGVcclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ31cclxuICAgKiBAcmV0dXJucyB7U3RyaW5nfVxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIG5hbWVzcGFjaWZ5KCkge1xyXG4gICAgdmFyIHJlc3VsdCA9IE5BTUVTUEFDRTtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7ICsraSkge1xyXG4gICAgICByZXN1bHQgKz0gJy0nICsgYXJndW1lbnRzW2ldO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBIYW5kbGVzIHRoZSBoYXNoY2hhbmdlIGV2ZW50XHJcbiAgICogQHByaXZhdGVcclxuICAgKiBAbGlzdGVucyBoYXNoY2hhbmdlXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gaGFuZGxlSGFzaENoYW5nZUV2ZW50KCkge1xyXG4gICAgdmFyIGlkID0gbG9jYXRpb24uaGFzaC5yZXBsYWNlKCcjJywgJycpO1xyXG4gICAgdmFyIGluc3RhbmNlO1xyXG4gICAgdmFyICRlbGVtO1xyXG5cclxuICAgIGlmICghaWQpIHtcclxuXHJcbiAgICAgIC8vIENoZWNrIGlmIHdlIGhhdmUgY3VycmVudGx5IG9wZW5lZCBtb2RhbCBhbmQgYW5pbWF0aW9uIHdhcyBjb21wbGV0ZWRcclxuICAgICAgaWYgKGN1cnJlbnQgJiYgY3VycmVudC5zdGF0ZSA9PT0gU1RBVEVTLk9QRU5FRCAmJiBjdXJyZW50LnNldHRpbmdzLmhhc2hUcmFja2luZykge1xyXG4gICAgICAgIGN1cnJlbnQuY2xvc2UoKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuXHJcbiAgICAgIC8vIENhdGNoIHN5bnRheCBlcnJvciBpZiB5b3VyIGhhc2ggaXMgYmFkXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgJGVsZW0gPSAkKFxyXG4gICAgICAgICAgJ1tkYXRhLScgKyBQTFVHSU5fTkFNRSArICctaWQ9XCInICsgaWQgKyAnXCJdJ1xyXG4gICAgICAgICk7XHJcbiAgICAgIH0gY2F0Y2ggKGVycikge31cclxuXHJcbiAgICAgIGlmICgkZWxlbSAmJiAkZWxlbS5sZW5ndGgpIHtcclxuICAgICAgICBpbnN0YW5jZSA9ICRbUExVR0lOX05BTUVdLmxvb2t1cFskZWxlbS5kYXRhKFBMVUdJTl9OQU1FKV07XHJcblxyXG4gICAgICAgIGlmIChpbnN0YW5jZSAmJiBpbnN0YW5jZS5zZXR0aW5ncy5oYXNoVHJhY2tpbmcpIHtcclxuICAgICAgICAgIGluc3RhbmNlLm9wZW4oKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZW1vZGFsIGNvbnN0cnVjdG9yXHJcbiAgICogQGNvbnN0cnVjdG9yXHJcbiAgICogQHBhcmFtIHtqUXVlcnl9ICRtb2RhbFxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gUmVtb2RhbCgkbW9kYWwsIG9wdGlvbnMpIHtcclxuICAgIHZhciAkYm9keSA9ICQoZG9jdW1lbnQuYm9keSk7XHJcbiAgICB2YXIgcmVtb2RhbCA9IHRoaXM7XHJcblxyXG4gICAgcmVtb2RhbC5zZXR0aW5ncyA9ICQuZXh0ZW5kKHt9LCBERUZBVUxUUywgb3B0aW9ucyk7XHJcbiAgICByZW1vZGFsLmluZGV4ID0gJFtQTFVHSU5fTkFNRV0ubG9va3VwLnB1c2gocmVtb2RhbCkgLSAxO1xyXG4gICAgcmVtb2RhbC5zdGF0ZSA9IFNUQVRFUy5DTE9TRUQ7XHJcblxyXG4gICAgcmVtb2RhbC4kb3ZlcmxheSA9ICQoJy4nICsgbmFtZXNwYWNpZnkoJ292ZXJsYXknKSk7XHJcblxyXG4gICAgaWYgKCFyZW1vZGFsLiRvdmVybGF5Lmxlbmd0aCkge1xyXG4gICAgICByZW1vZGFsLiRvdmVybGF5ID0gJCgnPGRpdj4nKS5hZGRDbGFzcyhuYW1lc3BhY2lmeSgnb3ZlcmxheScpICsgJyAnICsgbmFtZXNwYWNpZnkoJ2lzJywgU1RBVEVTLkNMT1NFRCkpLmhpZGUoKTtcclxuICAgICAgJGJvZHkuYXBwZW5kKHJlbW9kYWwuJG92ZXJsYXkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbW9kYWwuJGJnID0gJCgnLicgKyBuYW1lc3BhY2lmeSgnYmcnKSkuYWRkQ2xhc3MobmFtZXNwYWNpZnkoJ2lzJywgU1RBVEVTLkNMT1NFRCkpO1xyXG5cclxuICAgIHJlbW9kYWwuJG1vZGFsID0gJG1vZGFsXHJcbiAgICAgIC5hZGRDbGFzcyhcclxuICAgICAgICBOQU1FU1BBQ0UgKyAnICcgK1xyXG4gICAgICAgIG5hbWVzcGFjaWZ5KCdpcy1pbml0aWFsaXplZCcpICsgJyAnICtcclxuICAgICAgICByZW1vZGFsLnNldHRpbmdzLm1vZGlmaWVyICsgJyAnICtcclxuICAgICAgICBuYW1lc3BhY2lmeSgnaXMnLCBTVEFURVMuQ0xPU0VEKSlcclxuICAgICAgLmF0dHIoJ3RhYmluZGV4JywgJy0xJyk7XHJcblxyXG4gICAgcmVtb2RhbC4kd3JhcHBlciA9ICQoJzxkaXY+JylcclxuICAgICAgLmFkZENsYXNzKFxyXG4gICAgICAgIG5hbWVzcGFjaWZ5KCd3cmFwcGVyJykgKyAnICcgK1xyXG4gICAgICAgIHJlbW9kYWwuc2V0dGluZ3MubW9kaWZpZXIgKyAnICcgK1xyXG4gICAgICAgIG5hbWVzcGFjaWZ5KCdpcycsIFNUQVRFUy5DTE9TRUQpKVxyXG4gICAgICAuaGlkZSgpXHJcbiAgICAgIC5hcHBlbmQocmVtb2RhbC4kbW9kYWwpO1xyXG4gICAgJGJvZHkuYXBwZW5kKHJlbW9kYWwuJHdyYXBwZXIpO1xyXG5cclxuICAgIC8vIEFkZCB0aGUgZXZlbnQgbGlzdGVuZXIgZm9yIHRoZSBjbG9zZSBidXR0b25cclxuICAgIHJlbW9kYWwuJHdyYXBwZXIub24oJ2NsaWNrLicgKyBOQU1FU1BBQ0UsICdbZGF0YS0nICsgUExVR0lOX05BTUUgKyAnLWFjdGlvbj1cImNsb3NlXCJdJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICByZW1vZGFsLmNsb3NlKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBBZGQgdGhlIGV2ZW50IGxpc3RlbmVyIGZvciB0aGUgY2FuY2VsIGJ1dHRvblxyXG4gICAgcmVtb2RhbC4kd3JhcHBlci5vbignY2xpY2suJyArIE5BTUVTUEFDRSwgJ1tkYXRhLScgKyBQTFVHSU5fTkFNRSArICctYWN0aW9uPVwiY2FuY2VsXCJdJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICByZW1vZGFsLiRtb2RhbC50cmlnZ2VyKFNUQVRFX0NIQU5HRV9SRUFTT05TLkNBTkNFTExBVElPTik7XHJcblxyXG4gICAgICBpZiAocmVtb2RhbC5zZXR0aW5ncy5jbG9zZU9uQ2FuY2VsKSB7XHJcbiAgICAgICAgcmVtb2RhbC5jbG9zZShTVEFURV9DSEFOR0VfUkVBU09OUy5DQU5DRUxMQVRJT04pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBBZGQgdGhlIGV2ZW50IGxpc3RlbmVyIGZvciB0aGUgY29uZmlybSBidXR0b25cclxuICAgIHJlbW9kYWwuJHdyYXBwZXIub24oJ2NsaWNrLicgKyBOQU1FU1BBQ0UsICdbZGF0YS0nICsgUExVR0lOX05BTUUgKyAnLWFjdGlvbj1cImNvbmZpcm1cIl0nLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgIHJlbW9kYWwuJG1vZGFsLnRyaWdnZXIoU1RBVEVfQ0hBTkdFX1JFQVNPTlMuQ09ORklSTUFUSU9OKTtcclxuXHJcbiAgICAgIGlmIChyZW1vZGFsLnNldHRpbmdzLmNsb3NlT25Db25maXJtKSB7XHJcbiAgICAgICAgcmVtb2RhbC5jbG9zZShTVEFURV9DSEFOR0VfUkVBU09OUy5DT05GSVJNQVRJT04pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBBZGQgdGhlIGV2ZW50IGxpc3RlbmVyIGZvciB0aGUgb3ZlcmxheVxyXG4gICAgcmVtb2RhbC4kd3JhcHBlci5vbignY2xpY2suJyArIE5BTUVTUEFDRSwgZnVuY3Rpb24oZSkge1xyXG4gICAgICB2YXIgJHRhcmdldCA9ICQoZS50YXJnZXQpO1xyXG5cclxuICAgICAgaWYgKCEkdGFyZ2V0Lmhhc0NsYXNzKG5hbWVzcGFjaWZ5KCd3cmFwcGVyJykpKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAocmVtb2RhbC5zZXR0aW5ncy5jbG9zZU9uT3V0c2lkZUNsaWNrKSB7XHJcbiAgICAgICAgcmVtb2RhbC5jbG9zZSgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE9wZW5zIGEgbW9kYWwgd2luZG93XHJcbiAgICogQHB1YmxpY1xyXG4gICAqL1xyXG4gIFJlbW9kYWwucHJvdG90eXBlLm9wZW4gPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciByZW1vZGFsID0gdGhpcztcclxuICAgIHZhciBpZDtcclxuXHJcbiAgICAvLyBDaGVjayBpZiB0aGUgYW5pbWF0aW9uIHdhcyBjb21wbGV0ZWRcclxuICAgIGlmIChyZW1vZGFsLnN0YXRlID09PSBTVEFURVMuT1BFTklORyB8fCByZW1vZGFsLnN0YXRlID09PSBTVEFURVMuQ0xPU0lORykge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWQgPSByZW1vZGFsLiRtb2RhbC5hdHRyKCdkYXRhLScgKyBQTFVHSU5fTkFNRSArICctaWQnKTtcclxuXHJcbiAgICBpZiAoaWQgJiYgcmVtb2RhbC5zZXR0aW5ncy5oYXNoVHJhY2tpbmcpIHtcclxuICAgICAgc2Nyb2xsVG9wID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpO1xyXG4gICAgICBsb2NhdGlvbi5oYXNoID0gaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGN1cnJlbnQgJiYgY3VycmVudCAhPT0gcmVtb2RhbCkge1xyXG4gICAgICBoYWx0KGN1cnJlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIGN1cnJlbnQgPSByZW1vZGFsO1xyXG4gICAgbG9ja1NjcmVlbigpO1xyXG4gICAgcmVtb2RhbC4kYmcuYWRkQ2xhc3MocmVtb2RhbC5zZXR0aW5ncy5tb2RpZmllcik7XHJcbiAgICByZW1vZGFsLiRvdmVybGF5LmFkZENsYXNzKHJlbW9kYWwuc2V0dGluZ3MubW9kaWZpZXIpLnNob3coKTtcclxuICAgIHJlbW9kYWwuJHdyYXBwZXIuc2hvdygpLnNjcm9sbFRvcCgwKTtcclxuICAgIHJlbW9kYWwuJG1vZGFsLmZvY3VzKCk7XHJcblxyXG4gICAgc3luY1dpdGhBbmltYXRpb24oXHJcbiAgICAgIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNldFN0YXRlKHJlbW9kYWwsIFNUQVRFUy5PUEVOSU5HKTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNldFN0YXRlKHJlbW9kYWwsIFNUQVRFUy5PUEVORUQpO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgcmVtb2RhbCk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQ2xvc2VzIGEgbW9kYWwgd2luZG93XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSByZWFzb25cclxuICAgKi9cclxuICBSZW1vZGFsLnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uKHJlYXNvbikge1xyXG4gICAgdmFyIHJlbW9kYWwgPSB0aGlzO1xyXG5cclxuICAgIC8vIENoZWNrIGlmIHRoZSBhbmltYXRpb24gd2FzIGNvbXBsZXRlZFxyXG4gICAgaWYgKHJlbW9kYWwuc3RhdGUgPT09IFNUQVRFUy5PUEVOSU5HIHx8IHJlbW9kYWwuc3RhdGUgPT09IFNUQVRFUy5DTE9TSU5HKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoXHJcbiAgICAgIHJlbW9kYWwuc2V0dGluZ3MuaGFzaFRyYWNraW5nICYmXHJcbiAgICAgIHJlbW9kYWwuJG1vZGFsLmF0dHIoJ2RhdGEtJyArIFBMVUdJTl9OQU1FICsgJy1pZCcpID09PSBsb2NhdGlvbi5oYXNoLnN1YnN0cigxKVxyXG4gICAgKSB7XHJcbiAgICAgIGxvY2F0aW9uLmhhc2ggPSAnJztcclxuICAgICAgJCh3aW5kb3cpLnNjcm9sbFRvcChzY3JvbGxUb3ApO1xyXG4gICAgfVxyXG5cclxuICAgIHN5bmNXaXRoQW5pbWF0aW9uKFxyXG4gICAgICBmdW5jdGlvbigpIHtcclxuICAgICAgICBzZXRTdGF0ZShyZW1vZGFsLCBTVEFURVMuQ0xPU0lORywgZmFsc2UsIHJlYXNvbik7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBmdW5jdGlvbigpIHtcclxuICAgICAgICByZW1vZGFsLiRiZy5yZW1vdmVDbGFzcyhyZW1vZGFsLnNldHRpbmdzLm1vZGlmaWVyKTtcclxuICAgICAgICByZW1vZGFsLiRvdmVybGF5LnJlbW92ZUNsYXNzKHJlbW9kYWwuc2V0dGluZ3MubW9kaWZpZXIpLmhpZGUoKTtcclxuICAgICAgICByZW1vZGFsLiR3cmFwcGVyLmhpZGUoKTtcclxuICAgICAgICB1bmxvY2tTY3JlZW4oKTtcclxuXHJcbiAgICAgICAgc2V0U3RhdGUocmVtb2RhbCwgU1RBVEVTLkNMT1NFRCwgZmFsc2UsIHJlYXNvbik7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICByZW1vZGFsKTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIGEgY3VycmVudCBzdGF0ZSBvZiBhIG1vZGFsXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtTVEFURVN9XHJcbiAgICovXHJcbiAgUmVtb2RhbC5wcm90b3R5cGUuZ2V0U3RhdGUgPSBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiB0aGlzLnN0YXRlO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIERlc3Ryb3lzIGEgbW9kYWxcclxuICAgKiBAcHVibGljXHJcbiAgICovXHJcbiAgUmVtb2RhbC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGxvb2t1cCA9ICRbUExVR0lOX05BTUVdLmxvb2t1cDtcclxuICAgIHZhciBpbnN0YW5jZUNvdW50O1xyXG5cclxuICAgIGhhbHQodGhpcyk7XHJcbiAgICB0aGlzLiR3cmFwcGVyLnJlbW92ZSgpO1xyXG5cclxuICAgIGRlbGV0ZSBsb29rdXBbdGhpcy5pbmRleF07XHJcbiAgICBpbnN0YW5jZUNvdW50ID0gJC5ncmVwKGxvb2t1cCwgZnVuY3Rpb24oaW5zdGFuY2UpIHtcclxuICAgICAgcmV0dXJuICEhaW5zdGFuY2U7XHJcbiAgICB9KS5sZW5ndGg7XHJcblxyXG4gICAgaWYgKGluc3RhbmNlQ291bnQgPT09IDApIHtcclxuICAgICAgdGhpcy4kb3ZlcmxheS5yZW1vdmUoKTtcclxuICAgICAgdGhpcy4kYmcucmVtb3ZlQ2xhc3MoXHJcbiAgICAgICAgbmFtZXNwYWNpZnkoJ2lzJywgU1RBVEVTLkNMT1NJTkcpICsgJyAnICtcclxuICAgICAgICBuYW1lc3BhY2lmeSgnaXMnLCBTVEFURVMuT1BFTklORykgKyAnICcgK1xyXG4gICAgICAgIG5hbWVzcGFjaWZ5KCdpcycsIFNUQVRFUy5DTE9TRUQpICsgJyAnICtcclxuICAgICAgICBuYW1lc3BhY2lmeSgnaXMnLCBTVEFURVMuT1BFTkVEKSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogU3BlY2lhbCBwbHVnaW4gb2JqZWN0IGZvciBpbnN0YW5jZXNcclxuICAgKiBAcHVibGljXHJcbiAgICogQHR5cGUge09iamVjdH1cclxuICAgKi9cclxuICAkW1BMVUdJTl9OQU1FXSA9IHtcclxuICAgIGxvb2t1cDogW11cclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBQbHVnaW4gY29uc3RydWN0b3JcclxuICAgKiBAY29uc3RydWN0b3JcclxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xyXG4gICAqIEByZXR1cm5zIHtKUXVlcnl9XHJcbiAgICovXHJcbiAgJC5mbltQTFVHSU5fTkFNRV0gPSBmdW5jdGlvbihvcHRzKSB7XHJcbiAgICB2YXIgaW5zdGFuY2U7XHJcbiAgICB2YXIgJGVsZW07XHJcblxyXG4gICAgdGhpcy5lYWNoKGZ1bmN0aW9uKGluZGV4LCBlbGVtKSB7XHJcbiAgICAgICRlbGVtID0gJChlbGVtKTtcclxuXHJcbiAgICAgIGlmICgkZWxlbS5kYXRhKFBMVUdJTl9OQU1FKSA9PSBudWxsKSB7XHJcbiAgICAgICAgaW5zdGFuY2UgPSBuZXcgUmVtb2RhbCgkZWxlbSwgb3B0cyk7XHJcbiAgICAgICAgJGVsZW0uZGF0YShQTFVHSU5fTkFNRSwgaW5zdGFuY2UuaW5kZXgpO1xyXG5cclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICBpbnN0YW5jZS5zZXR0aW5ncy5oYXNoVHJhY2tpbmcgJiZcclxuICAgICAgICAgICRlbGVtLmF0dHIoJ2RhdGEtJyArIFBMVUdJTl9OQU1FICsgJy1pZCcpID09PSBsb2NhdGlvbi5oYXNoLnN1YnN0cigxKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgaW5zdGFuY2Uub3BlbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpbnN0YW5jZSA9ICRbUExVR0lOX05BTUVdLmxvb2t1cFskZWxlbS5kYXRhKFBMVUdJTl9OQU1FKV07XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBpbnN0YW5jZTtcclxuICB9O1xyXG5cclxuICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuXHJcbiAgICAvLyBkYXRhLXJlbW9kYWwtdGFyZ2V0IG9wZW5zIGEgbW9kYWwgd2luZG93IHdpdGggdGhlIHNwZWNpYWwgSWRcclxuICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICdbZGF0YS0nICsgUExVR0lOX05BTUUgKyAnLXRhcmdldF0nLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgIHZhciBlbGVtID0gZS5jdXJyZW50VGFyZ2V0O1xyXG4gICAgICB2YXIgaWQgPSBlbGVtLmdldEF0dHJpYnV0ZSgnZGF0YS0nICsgUExVR0lOX05BTUUgKyAnLXRhcmdldCcpO1xyXG4gICAgICB2YXIgJHRhcmdldCA9ICQoJ1tkYXRhLScgKyBQTFVHSU5fTkFNRSArICctaWQ9XCInICsgaWQgKyAnXCJdJyk7XHJcblxyXG4gICAgICAkW1BMVUdJTl9OQU1FXS5sb29rdXBbJHRhcmdldC5kYXRhKFBMVUdJTl9OQU1FKV0ub3BlbigpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gQXV0byBpbml0aWFsaXphdGlvbiBvZiBtb2RhbCB3aW5kb3dzXHJcbiAgICAvLyBUaGV5IHNob3VsZCBoYXZlIHRoZSAncmVtb2RhbCcgY2xhc3MgYXR0cmlidXRlXHJcbiAgICAvLyBBbHNvIHlvdSBjYW4gd3JpdGUgdGhlIGBkYXRhLXJlbW9kYWwtb3B0aW9uc2AgYXR0cmlidXRlIHRvIHBhc3MgcGFyYW1zIGludG8gdGhlIG1vZGFsXHJcbiAgICAkKGRvY3VtZW50KS5maW5kKCcuJyArIE5BTUVTUEFDRSkuZWFjaChmdW5jdGlvbihpLCBjb250YWluZXIpIHtcclxuICAgICAgdmFyICRjb250YWluZXIgPSAkKGNvbnRhaW5lcik7XHJcbiAgICAgIHZhciBvcHRpb25zID0gJGNvbnRhaW5lci5kYXRhKFBMVUdJTl9OQU1FICsgJy1vcHRpb25zJyk7XHJcblxyXG4gICAgICBpZiAoIW9wdGlvbnMpIHtcclxuICAgICAgICBvcHRpb25zID0ge307XHJcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnIHx8IG9wdGlvbnMgaW5zdGFuY2VvZiBTdHJpbmcpIHtcclxuICAgICAgICBvcHRpb25zID0gcGFyc2VPcHRpb25zKG9wdGlvbnMpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAkY29udGFpbmVyW1BMVUdJTl9OQU1FXShvcHRpb25zKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIEhhbmRsZXMgdGhlIGtleWRvd24gZXZlbnRcclxuICAgICQoZG9jdW1lbnQpLm9uKCdrZXlkb3duLicgKyBOQU1FU1BBQ0UsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgaWYgKGN1cnJlbnQgJiYgY3VycmVudC5zZXR0aW5ncy5jbG9zZU9uRXNjYXBlICYmIGN1cnJlbnQuc3RhdGUgPT09IFNUQVRFUy5PUEVORUQgJiYgZS5rZXlDb2RlID09PSAyNykge1xyXG4gICAgICAgIGN1cnJlbnQuY2xvc2UoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gSGFuZGxlcyB0aGUgaGFzaGNoYW5nZSBldmVudFxyXG4gICAgJCh3aW5kb3cpLm9uKCdoYXNoY2hhbmdlLicgKyBOQU1FU1BBQ0UsIGhhbmRsZUhhc2hDaGFuZ2VFdmVudCk7XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuXHJcbi8vU3RpY2t5IG1lbnVcclxuJCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbigpe1xyXG4gIHZhciBzdGlja3kgPSAkKCcuY2QtbWFpbi1oZWFkZXInKSxcclxuICAgICAgc2Nyb2xsID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpO1xyXG5cclxuICBpZiAoc2Nyb2xsID49IDEwMCkgc3RpY2t5LmFkZENsYXNzKCdmaXhlZC1wcmltYXJ5LW1lbnUnKTtcclxuICBlbHNlIHN0aWNreS5yZW1vdmVDbGFzcygnZml4ZWQtcHJpbWFyeS1tZW51Jyk7XHJcbn0pO1xyXG5cclxuXHJcbi8vR3JpZFxyXG4kKCB3aW5kb3cgKS5sb2FkKCBmdW5jdGlvbigpXHJcbntcclxuICAgIHZhciBjb2x1bW5zICAgID0gMixcclxuICAgICAgICBzZXRDb2x1bW5zID0gZnVuY3Rpb24oKSB7IGNvbHVtbnMgPSAkKCB3aW5kb3cgKS53aWR0aCgpID4gNDcwID8gMiA6ICQoIHdpbmRvdyApLndpZHRoKCkgPiAzMjAgPyAyIDogMTsgfTtcclxuIFxyXG4gICAgc2V0Q29sdW1ucygpO1xyXG4gICAgJCggd2luZG93ICkucmVzaXplKCBzZXRDb2x1bW5zICk7XHJcbiBcclxuICAgICQoICcjbGlzdCcgKS5tYXNvbnJ5KFxyXG4gICAge1xyXG4gICAgICAgIGl0ZW1TZWxlY3RvcjogJy5pdGVtJyxcclxuICAgICAgICBjb2x1bW5XaWR0aDogIGZ1bmN0aW9uKCBjb250YWluZXJXaWR0aCApIHsgcmV0dXJuIGNvbnRhaW5lcldpZHRoIC8gY29sdW1uczsgfVxyXG4gICAgfSk7XHJcbn0pO1xyXG5cclxuLy9TdGFydCBob21lIHNsaWRlclxyXG4vLyAkKHdpbmRvdykubG9hZChmdW5jdGlvbigpIHtcclxuLy8gICAkKCcuZmxleHNsaWRlcicpLmZsZXhzbGlkZXIoe1xyXG4vLyAgICAgYW5pbWF0aW9uOiBcInNsaWRlXCJcclxuLy8gICB9KTtcclxuLy8gfSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
